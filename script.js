(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function updateUrlParams(){urlParams={};for(var e,t=/(?!^)\+/g,n=/([^&=]+)=?([^&]*)/g,a=function(e){return decodeURIComponent(e.replace(t," "))},i=location.search.substring(1);e=n.exec(i);)urlParams[a(e[1])]=a(e[2])}function initViewport(){if(mobile){var e=document.createElement("meta");e.name="viewport",e.content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0",document.getElementsByTagName("head")[0].appendChild(e),document.getElementsByTagName("body")[0].class="mobile"}}function initTitle(){document.getElementById("header").addEventListener("click",setTitleTitle),document.getElementById("leftArrow").addEventListener("click",goLast),document.getElementById("rightArrow").addEventListener("click",goNext),document.getElementById("refresh").addEventListener("click",function(){updateSchedule(null,!0)}),setTitleTitle()}function parseRawSchedule(){var e=document.getElementById("schedules").textContent.split("\n");schedules=new Array;var t=0;for(schedules[0]=new Array;e.length>0;)if(0==e[0].length)schedules[++t]=new Array,e.shift();else{var n=e.shift();if(0==t&&n.indexOf("|")>=0)for(var a=new Date(n.substring(0,n.indexOf("|"))),i=new Date(n.substring(n.indexOf("|")+1,n.indexOf("	")));i>=a;a.setDate(a.getDate()+1))schedules[0].push(a.getMonth().valueOf()+1+"/"+a.getDate()+"/"+a.getFullYear().toString().substr(-2)+n.substring(n.indexOf("	")));else schedules[t].push(n)}}function setDisplayDate(e,t){var n=e?new Date(e):getDateFromUrlParams();if(setDayBeginning(n),t||!displayDate||n.valueOf()!=displayDate.valueOf()){var a=document.getElementById("schedule");for(displayDate=new Date(n),warn(getMonday(n)>getMonday(new Date)?"This is a future date, so the schedule may be incorrect. (In particular, special/alternate schedules may be missing.)":"");a.rows.length;)a.deleteRow(-1);var i=a.insertRow(-1);if(options.enableDayView)createDay(i,n);else{n=getMonday(n);for(var o=0;5>o;o++)createDay(i,n),n.setDate(n.getDate()+1)}}}function getDateFromUrlParams(){var e=new Date;return urlParams.y>0&&e.setFullYear(urlParams.y),urlParams.m>0&&e.setMonth(urlParams.m-1),urlParams.d>0&&e.setDate(urlParams.d),options.enableDayView||(e=getMonday(e)),e}function warn(e){var t=document.getElementById("warning");t.style.display=e?"block":"none",t.innerHTML=e}function createDay(e,t){var n=getDayInfo(t),a=e.insertCell(-1);a.date=t.valueOf(),9==t.getMonth()&&31==t.getDate()&&a.classList.add("halloween");var i=document.createElement("div");i.classList.add("head");var o=document.createElement("div");o.classList.add("headWrapper"),o.innerHTML=days[t.getDay()]+'<div class="headDate">'+n.dateString+"</div>",i.appendChild(o),a.appendChild(i);var r="8:00";if(n.index>0)for(var s=1;s<schedules[n.index].length;s++){var d=schedules[n.index][s],l=makePeriodNameReplacements(d.substring(0,d.indexOf("	")),n.replacements),c=d.substring(d.indexOf("	")+1),u=c.substring(0,c.indexOf("-")),p=c.substring(c.lastIndexOf("-")+1);if(options.showPassingPeriods){var m=document.createElement("div");m.classList.add("period"),createPeriod(m,"",r,u,t),a.appendChild(m)}r=p;var g=document.createElement("div");if(g.classList.add("period"),l.indexOf("|")>=0){var f=document.createElement("table");f.classList.add("lunch");var h=f.insertRow(-1),v=h.insertCell(-1),y=c.substring(0,c.indexOf("||"));createSubPeriods(v,l.substring(0,l.indexOf("||")),u,y.substring(y.indexOf("-")+1,y.indexOf("|")),y.substring(y.indexOf("|")+1,y.lastIndexOf("-")),p,t);var b=h.insertCell(-1),w=c.substring(c.indexOf("||")+2);createSubPeriods(b,l.substring(l.indexOf("||")+2),u,w.substring(w.indexOf("-")+1,w.indexOf("|")),w.substring(w.indexOf("|")+1,w.lastIndexOf("-")),p,t),g.appendChild(f)}else createPeriod(g,l,u,p,t);a.appendChild(g)}}function makePeriodNameReplacements(e,t){if(t.length>0)for(var n=0;n<t.length;n++)if(!t[n].indexOf(e))return t[n].substring(t[n].indexOf("->")+2);return e}function setTitleTitle(){var e=document.getElementById("titleTitles").textContent.split("\n");document.getElementById("title").title=e[Math.floor(Math.random()*e.length)]}function getMonday(e){var t=new Date(e);return t.setDate(t.getDay()>=6?t.getDate()+2:t.getDate()-t.getDay()+1),setDayBeginning(t),t}function setDayBeginning(e){e.setHours(0,0,0,0)}function getDateFromString(e,t){var n=e.substring(0,e.indexOf(":")),a=e.substring(e.indexOf(":")+1);return 7>n&&(n=parseInt(n,10)+12),new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,a)}function getDayInfo(e){for(var t,n=e.getMonth().valueOf()+1+"/"+e.getDate().valueOf()+"/"+e.getFullYear().toString().substr(-2),a=0,i=[],o=0;o<schedules[0].length;o++)schedules[0][o].indexOf(n)||(schedules[0][o].indexOf("[")>=0?(t=schedules[0][o].substring(schedules[0][o].indexOf("	")+1,schedules[0][o].indexOf("[")-1),i=schedules[0][o].substring(schedules[0][o].indexOf("[")+1,schedules[0][o].indexOf("]")).split(",")):t=schedules[0][o].substring(schedules[0][o].indexOf("	")+1),a=getScheduleIndex(t));return void 0===t&&(t=e.getDay(),a=0==t||6==t?t=0:t),{index:a,id:t,dateString:n,replacements:i}}function getScheduleIndex(e){if(0==e)return 0;for(var t=1;t<schedules.length;t++)if(e==schedules[t][0])return t;return 0}function createPeriod(e,t,n,a,i){startDate=getDateFromString(n,i),endDate=getDateFromString(a,i);var o=document.createElement("div");o.classList.add("periodWrapper"),o.periodName=t,o.start=startDate,o.end=endDate;var r=(endDate-startDate)/6e4;return r>0?(o.style.height=r-1+"px",r>=15&&(t&&(o.innerHTML=t+(30>r?" ":"<br />")+n+" â€“ "+a),r>50&&!t.indexOf("P")&&o.classList.add("long")),e.appendChild(o)):void 0}function createSubPeriods(e,t,n,a,i,o,r){var s=document.createElement("div");if(s.classList.add("period"),createPeriod(s,t.substring(0,t.indexOf("|")),n,a,r),e.appendChild(s),options.showPassingPeriods){var d=document.createElement("div");d.classList.add("period"),createPeriod(d,"",a,i,r),e.appendChild(d)}var l=document.createElement("div");l.classList.add("period");var c=document.createElement("div");c.classList.add("periodWrapper"),createPeriod(l,t.substring(t.indexOf("|")+1),i,o,r),e.appendChild(l)}function goLast(){var e=new Date(displayDate);e.setDate(e.getDate()-(options.enableDayView?1:7)),updateSchedule(e),updateSearch(e)}function goNext(){var e=new Date(displayDate);e.setDate(e.getDate()+(options.enableDayView?1:7)),updateSchedule(e),updateSearch(e)}function goCurr(){var e=new Date;updateSchedule(e),updateSearch(e)}function updateSearch(e){var t=new Date;options.enableDayView||(t=getMonday(t)),e.getDate()!=t.getDate()?(urlParams.m=e.getMonth()+1,urlParams.d=e.getDate()):(delete urlParams.m,delete urlParams.d),e.getYear()!=t.getYear()?urlParams.y=e.getFullYear().toString().substr(-2):delete urlParams.y;var n="?";for(var a in urlParams)n+=a+"="+urlParams[a]+"&";n=n.slice(0,-1),history.pushState(e,document.title,location.protocol+"//"+location.host+location.pathname+n+location.hash)}function setHighlightedPeriod(e){e||(e=Date.now());var t=new Date(e);t.setHours(0,0,0,0);var n=document.getElementById("today"),a=[];if(n){a=Array.prototype.slice.call(n.getElementsByClassName("now"));for(var i=a.length-1;i>=0;i--){var o=a[i];o.classList.remove("now");var r=o.getElementsByClassName("periodLength")[0];r&&o.removeChild(r)}n.id=""}for(var s=document.getElementById("schedule").rows[0].cells,d=0;d<s.length;d++){var l=s[d];if(t.valueOf()==l.date){l.id="today";for(var c=l.getElementsByClassName("periodWrapper"),u=0;u<c.length;u++){var p=c[u];if(e-p.start>=0&&e-p.end<0&&(p.classList.add("now"),(p.end-p.start)/6e4>=40)){var m=(p.end-e)/6e4;p.innerHTML+='<div class="periodLength">'+(m>1?Math.round(m)+" min. left</div>":Math.round(60*m)+" sec. left</div>")}}}}if(options.enablePeriodNotifications){for(var g=Array.prototype.slice.call(document.getElementsByClassName("now")),f=g.diff(a),h=a.diff(g),i=0;i<f.length;i++){var v=g[i].periodName;v&&!hasFocus&&sendNotification(v+" has started.",options.notificationDuration)}for(var i=0;i<h.length;i++){var v=a[i].periodName;v&&!hasFocus&&sendNotification(v+" has ended.",options.notificationDuration)}}}function updateSchedule(e,t){setDisplayDate(e,t),setHighlightedPeriod()}function expandOptions(){document.getElementById("options").classList.add("expanded"),document.getElementById("optionsArrow").innerHTML="&#8600;"}function contractOptions(){document.getElementById("options").classList.remove("expanded"),document.getElementById("optionsArrow").innerHTML="&#8598;"}function toggleOptions(){document.getElementById("options").classList.contains("expanded")?contractOptions():expandOptions()}function initOptions(){var e=document.getElementById("options");e.addEventListener("mouseover",expandOptions),e.addEventListener("mouseout",contractOptions),mobile&&e.classList.add("mobile"),document.getElementById("optionsArrow").addEventListener("click",toggleOptions);var t=e.getElementsByTagName("input");localStorage.updateScheduleInterval&&(localStorage.activeUpdateInterval=localStorage.updateScheduleInterval,localStorage.removeItem("updateScheduleInterval"));for(var n=0;n<t.length;n++){var a=t[n];"checkbox"==a.type?(a.addEventListener("change",function(e){options[e.target.name]=localStorage[e.target.name]=e.target.checked}),options[a.name]=localStorage[a.name]?a.checked="true"==localStorage[a.name]:localStorage[a.name]=a.checked):"number"==a.type?(a.addEventListener("change",function(e){options[e.target.name]=parseInt(localStorage[e.target.name]=e.target.value)}),options[a.name]=parseInt(localStorage[a.name]?a.value=localStorage[a.name]:localStorage[a.name]=a.value)):(a.addEventListener("change",function(e){options[e.target.name]=localStorage[e.target.name]=e.target.value}),options[a.name]=localStorage[a.name]?a.value=localStorage[a.name]:localStorage[a.name]=a.value)}}function createOptions(e){JSON.parse(e).sections.forEach(function(e){(!e.hasOwnProperty("platforms")||mobile&&e.platforms.indexOf("mobile")>=0||!mobile)&&createOptionSection(e)}),initOptions(),attachOptionActions(),updateSchedule(null,!0)}function displayOptionsError(e){updateSchedule(),warn(e?"Retrieval of options.json timed out!":"Something went wrong while retrieving options.json!")}function createOptionSection(e){createOptionSectionTitle(e),e.options.forEach(function(e){(!e.hasOwnProperty("platforms")||mobile&&e.platforms.indexOf("mobile")>=0||!mobile)&&createOption(e)})}function createOptionSectionTitle(e){var t=document.createElement("tr"),n=document.createElement("th");if(n.colspan=2,e.hasOwnProperty("tooltip")){var a=document.createElement("span");a.title=e.tooltip,a.innerHTML=e.name+'<sup class="tooltipIndicator">?</sup>',n.appendChild(a)}else n.textContent=e.name;t.appendChild(n),document.getElementById("optionsContent").appendChild(t)}function createOption(e){var t=document.createElement("tr"),n=document.createElement("td"),a=document.createElement("td");if(e.hasOwnProperty("tooltip")){var i=document.createElement("span");i.title=e.tooltip,i.innerHTML=e.description+'<sup class="tooltipIndicator">?</sup>:',n.appendChild(i)}else n.textContent=e.description+":";var o=document.createElement("input");o.name=e.name,o.type=e.type;var r=mobile&&e.hasOwnProperty("mobileDefault")?e.mobileDefault:e.default;"number"==o.type?(o.min=0,o.value=r):"checkbox"==o.type&&r&&(o.checked="checked"),a.appendChild(o),t.appendChild(n),t.appendChild(a),document.getElementById("optionsContent").appendChild(t)}function attachOptionActions(){updateUpdateInterval(),document.getElementsByName("activeUpdateInterval")[0].addEventListener("change",function(){updateUpdateInterval()}),document.getElementsByName("showPassingPeriods")[0].addEventListener("change",function(){updateSchedule(null,!0)}),document.getElementsByName("enablePeriodNotifications")[0].addEventListener("change",function(){if(options.enablePeriodNotifications){var e=Notification.permission;"Notification"in window?"denied"==e?alert("Please allow desktop notifications for this site to enable this feature."):"default"==e&&Notification.requestPermission():alert("This browser does not support desktop notifications.")}}),document.body.classList.add(options.enableDayView?"day":"week"),document.getElementsByName("enableDayView")[0].addEventListener("change",function(){updateSchedule(null,!0),document.body.classList.remove("week"),document.body.classList.remove("day"),document.body.classList.add(options.enableDayView?"day":"week"),scrollTo(0,0)}),mobile||(document.addEventListener("keydown",function(e){switch(e.keyCode){case 116:options.interceptF5&&(e.preventDefault(),updateSchedule());break;case 82:options.interceptCtrlR&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),updateSchedule());break;case 37:goLast();break;case 39:goNext();break;case 40:goCurr()}}),setDoge(options.enableDoge),document.getElementsByName("enableDoge")[0].addEventListener("change",function(e){setDoge(e.target.checked)}))}function download(e,t,n){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?t(a.responseText):n&&n(!1,a.status))},a.ontimeout=function(){n(!0,null)},a.send()}function updateUpdateInterval(){setUpdateInterval(document.hidden?options.hiddenUpdateInterval:hasFocus?options.activeUpdateInterval:options.inactiveUpdateInterval)}function setUpdateInterval(e){clearInterval(updateScheduleID),updateScheduleID=e>0?setInterval(function(){updateSchedule()},1e3*e):null}function sendNotification(e,t){if("Notification"in window){var n=new Notification(e);t>0&&setTimeout(function(){n.close()},1e3*t)}}function isMobile(){var e=navigator.userAgent||navigator.vendor||window.opera;return window.innerWidth<=800&&window.innerHeight<=600?!0:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}function updateClock(){var e=new Date,t=e.getHours(),n=t%12,a=e.getMinutes();document.getElementById("currentTime").innerHTML=(0==n?12:n)+":"+addLeadingZero(a)+(t>=12?" PM":" AM")}function addLeadingZero(e){return 10>e?"0"+e:e}addEventListener("scroll",function(){document.getElementById("header").style.left=scrollX+"px"}),Array.prototype.diff=function(e){return this.filter(function(t){return e.indexOf(t)<0})};var days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],schedules,mobile=isMobile(),displayDate,updateScheduleID,hasFocus=!0,options={},urlParams;!function(){updateUrlParams(),window.history.replaceState(getDateFromUrlParams())}(),document.addEventListener("visibilitychange",function(){document.hidden||updateSchedule(),updateUpdateInterval()}),addEventListener("focus",function(){updateSchedule(),hasFocus=!0,updateUpdateInterval()}),addEventListener("blur",function(){hasFocus=!1,updateUpdateInterval()}),addEventListener("popstate",function(e){updateUrlParams(),updateSchedule(e.state)}),addEventListener("load",function(){initViewport(),initTitle(),parseRawSchedule(),download("options.json",createOptions,displayOptionsError)});
},{}]},{},[1])


//# sourceMappingURL=script.js.map